<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="511.6667px" preserveAspectRatio="none" style="width:1515px;height:511px;background:#FFFFFF;" version="1.1" viewBox="0 0 1515 511" width="1515px" zoomAndPan="magnify"><title>Agentic Wikipedia (Vertex AI POC) &#8212; System Context</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="sans-serif" font-size="23.3333" font-weight="bold" lengthAdjust="spacing" textLength="634.0788" x="428.9134" y="39.2253">Agentic Wikipedia (Vertex AI POC) &#8212; System Context</text></g><!--cluster local--><g class="cluster" data-qualified-name="local" data-source-line="6" id="ent0003"><polygon fill="none" points="86.6667,89.1471,103.3333,72.4805,431.6667,72.4805,431.6667,468.2138,415,484.8805,86.6667,484.8805,86.6667,89.1471" style="stroke:#181818;stroke-width:1.6667;"/><line style="stroke:#181818;stroke-width:1.6667;" x1="415" x2="431.6667" y1="89.1471" y2="72.4805"/><line style="stroke:#181818;stroke-width:1.6667;" x1="86.6667" x2="415" y1="89.1471" y2="89.1471"/><line style="stroke:#181818;stroke-width:1.6667;" x1="415" x2="415" y1="89.1471" y2="484.8805"/><text fill="#000000" font-family="sans-serif" font-size="23.3333" font-weight="bold" lengthAdjust="spacing" textLength="219.1488" x="142.9256" y="116.7057">Local dev (macOS)</text></g><!--cluster vertex--><g class="cluster" data-qualified-name="vertex" data-source-line="12" id="ent0007"><path d="M828.4844,304.9738 C841.9173,283.3481 860.0245,284.7856 873.978,304.3995 C887.5593,283.6013 905.88,282.23 918.8339,305.0448 C928.0187,286.413 946.9414,280.9913 959.7643,301.2121 C976.7861,277.9401 995.0119,283.4737 1007.9908,305.5148 C1013.342,283.3214 1032.8362,283.7945 1046.13,296.9438 C1059.442,278.2527 1077.1386,278.8296 1089.1027,298.4554 C1100.3103,278.6477 1118.4408,275.3804 1133.4746,294.0422 C1151.4556,276.1106 1167.9486,276.8539 1178.6058,301.7585 C1193.3687,277.1685 1211.0635,278.8739 1224.5791,302.9371 C1238.9864,285.0171 1257.4884,283.7936 1270.5295,304.5599 C1284.6735,283.1328 1301.2203,287.2978 1313.6631,306.3717 C1325.0523,287.9764 1343.4255,289.2318 1352.5719,308.6777 C1369.3431,288.7787 1385.3508,287.6333 1400.8507,310.1255 C1418.1035,288.959 1439.261,289.343 1451.6667,315.3471 C1455.6549,316.0376 1456.2501,318.2277 1454.6092,321.577 C1488.4259,331.5834 1492.4527,351.7567 1476.3112,380.2437 C1503.5722,418.5152 1486.6549,450.3464 1440,450.3138 C1445.288,448.3044 1448.1016,451.0409 1447.15,456.3826 C1434.0527,478.3635 1413.2631,478.0082 1403.3202,453.4142 C1394.7649,477.3318 1373.7943,477.6218 1360.1752,458.4892 C1348.6704,485.4331 1324.7698,487.7116 1309.6846,461.917 C1300.9502,484.5649 1281.7529,482.4491 1269.8544,465.0652 C1253.0934,484.8854 1237.0162,489.4834 1220.8352,464.4315 C1206.3879,482.8968 1193.2708,484.1745 1179.6384,463.5721 C1171.5384,487.0738 1152.9281,487.4217 1138.7374,469.6006 C1122.5137,487.0954 1107.0962,484.4125 1096.5397,463.3917 C1081.3259,490.5757 1061.7487,486.5404 1046.2051,463.7237 C1031.7539,481.0305 1015.4612,483.4147 1004.9396,459.7644 C989.1927,481.2812 970.1115,482.9444 957.384,456.7546 C943.8619,474.4679 928.7429,474.7405 917.7278,454.1585 C907.6249,477.3189 889.9571,473.197 877.066,457.0422 C850.9737,484.0678 821.4067,474.051 813.3333,438.6471 C817.113,436.7505 820.3169,438.725 820.2129,442.9861 C785.2284,430.6445 775.4177,405.4093 806.1286,378.6793 C780.6028,351.7409 789.4634,315.2542 825,303.6805 C826.6861,302.6078 827.9349,302.9842 828.4844,304.9738" fill="#ECFDF5" style="stroke:#065F46;stroke-width:1.6667;"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" font-weight="bold" lengthAdjust="spacing" textLength="110.1042" x="1077.4479" y="334.5724">Vertex AI</text></g><!--entity notebook--><g class="entity" data-qualified-name="local.notebook" data-source-line="7" id="ent0004"><rect fill="#F8FAFC" height="88.2943" rx="10" ry="10" style="stroke:#334155;stroke-width:0.8333;" width="230.8919" x="172.8833" y="139.1471"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="197.5586" x="189.55" y="178.3724">Jupyter Notebook</text><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="151.3135" x="189.55" y="205.8529">(Python 3.12)</text></g><!--entity vs--><g class="entity" data-qualified-name="local.vs" data-source-line="8" id="ent0005"><path d="M174.1,344.1138 C174.1,327.4471 286.6749,327.4471 286.6749,327.4471 C286.6749,327.4471 399.2497,327.4471 399.2497,344.1138 L399.2497,441.5552 C399.2497,458.2219 286.6749,458.2219 286.6749,458.2219 C286.6749,458.2219 174.1,458.2219 174.1,441.5552 L174.1,344.1138" fill="#EEF2FF" style="stroke:#3730A3;stroke-width:0.8333;"/><path d="M174.1,344.1138 C174.1,360.7805 286.6749,360.7805 286.6749,360.7805 C286.6749,360.7805 399.2497,360.7805 399.2497,344.1138" fill="none" style="stroke:#3730A3;stroke-width:0.8333;"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="137.6986" x="190.7667" y="390.0057">Vector store</text><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="191.8164" x="190.7667" y="417.4862">(Chroma / FAISS)</text><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="107.0052" x="190.7667" y="444.9667">local disk</text></g><!--entity emb--><g class="entity" data-qualified-name="vertex.emb" data-source-line="13" id="ent0008"><rect fill="#F8FAFC" height="88.2943" rx="10" ry="10" style="stroke:#334155;stroke-width:0.8333;" width="269.1504" x="827.0833" y="348.6805"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="139.1569" x="843.75" y="387.9057">Embeddings</text><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="235.8171" x="843.75" y="415.3862">VertexAIEmbeddings</text></g><!--entity llm--><g class="entity" data-qualified-name="vertex.llm" data-source-line="14" id="ent0009"><rect fill="#F8FAFC" height="88.2943" rx="10" ry="10" style="stroke:#334155;stroke-width:0.8333;" width="284.4059" x="1154.4667" y="348.6805"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="44.9805" x="1171.1333" y="387.9057">LLM</text><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="251.0726" x="1171.1333" y="415.3862">ChatVertexAI (Gemini)</text></g><!--entity user--><g class="entity" data-qualified-name="user" data-source-line="4" id="ent0002"><ellipse cx="483.3377" cy="343.2471" fill="#E0F2FE" rx="13.3333" ry="13.3333" style="stroke:#0369A1;stroke-width:0.8333;"/><path d="M483.3377,356.5805 L483.3377,401.5805 M461.671,369.9138 L505.0044,369.9138 M483.3377,401.5805 L461.671,426.5805 M483.3377,401.5805 L505.0044,426.5805" fill="none" style="stroke:#0369A1;stroke-width:0.8333;"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="50.6087" x="458.0333" y="451.6391">User</text></g><!--entity wiki--><g class="entity" data-qualified-name="wiki" data-source-line="11" id="ent0006"><path d="M583.8995,370.8274 C588.5389,360.0398 598.5744,361.0373 604.7084,369.1849 C609.2737,357.794 619.2539,356.4899 626.9684,365.7984 C633.0869,356.3408 640.1592,355.4749 648.0236,363.7222 C655.2579,354.0871 664.3657,352.8226 671.6066,363.7146 C679.3297,354.3656 685.8626,356.2045 690.7506,366.4802 C698.1269,353.4926 705.6056,353.6214 714.3482,365.166 C722.893,356.3572 729.7346,357.3281 735.0439,368.5148 C743.2418,358.5159 752.53,360.1556 758.9023,370.6411 C773.5179,374.7262 775.0175,383.6771 765.3889,394.3853 C775.6689,404.8077 773.5037,416.6684 758.1383,419.764 C751.2175,431.5381 744.0543,430.6518 736.1428,420.7701 C731.7187,433.7797 723.9826,433.7474 715.0178,425.2249 C709.8298,436.8926 699.0136,436.4256 693.1378,425.903 C688.3205,436.7529 677.2644,439.092 669.2433,429.6815 C659.7976,436.9399 652.4314,437.4011 648.0161,424.4085 C642.063,433.7143 632.1818,432.3078 627.5753,422.9349 C620.9534,432.4523 609.7522,431.2496 604.5793,421.2294 C596.9491,430.9672 588.0709,432.087 581.3431,420.2572 C565.4396,418.1229 563.1354,405.2409 572.457,394.4282 C563.1628,382.3162 568.0198,370.7342 583.8995,370.8274" fill="#ECFDF5" style="stroke:#065F46;stroke-width:0.8333;"/><text fill="#0F172A" font-family="sans-serif" font-size="23.3333" lengthAdjust="spacing" textLength="152.1908" x="592.2333" y="401.6391">Wikipedia API</text></g><g class="entity" data-qualified-name="GMN19" data-source-line="28" id="ent0020"><path d="M462,172.1971 L462,176.5471 L404.4167,183.2138 L462,189.8805 L462,194.3814 A10,10 0 0 0 472,204.3814 L851.3449,204.3814 A10,10 0 0 0 861.3449,194.3814 L861.3449,178.8638 L844.6782,162.1971 L472,162.1971 A10,10 0 0 0 462,172.1971" fill="#FFFBEB" style="stroke:#B45309;stroke-width:0.8333;"/><path d="M844.6782,162.1971 L844.6782,173.8638 A5,5 0 0 0 849.6782,178.8638 L861.3449,178.8638 L844.6782,162.1971" fill="#FFFBEB" style="stroke:#B45309;stroke-width:0.8333;"/><text fill="#92400E" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="364.3449" x="472" y="191.4777">Auth: gcloud ADC\nConfig: .env\n</text></g><!--link user to notebook--><g class="link" data-entity-1="ent0002" data-entity-2="ent0004" data-link-type="dependency" data-source-line="17" id="lnk10"><path d="M493.0833,328.5638 C493.0833,279.9638 493.0833,221.5471 493.0833,221.5471 C493.0833,221.5471 460.6833,221.5471 414.4667,221.5471" fill="none" id="user-to-notebook" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="404.4667,221.5471,419.4667,228.2138,412.8,221.5471,419.4667,214.8805,404.4667,221.5471" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="248.278" x="244.75" y="253.3611">run cells / ask question</text></g><!--link notebook to user--><g class="link" data-entity-1="ent0004" data-entity-2="ent0002" data-link-type="dependency" data-source-line="25" id="lnk18"><path d="M404.3833,224.8805 C443.55,224.8805 477.55,224.8805 477.55,224.8805 C477.55,224.8805 477.55,271.0138 477.55,318.3805" fill="none" id="notebook-to-user" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="477.55,328.3805,484.2167,313.3805,477.55,320.0471,470.8833,313.3805,477.55,328.3805" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="194.6191" x="282.55" y="262.6611">answer + citations</text></g><!--link notebook to wiki--><g class="link" data-entity-1="ent0004" data-entity-2="ent0006" data-link-type="dependency" data-source-line="18" id="lnk11"><path d="M404.6167,219.8805 C505.2167,219.8805 634.6333,219.8805 634.6333,219.8805 C634.6333,219.8805 634.6333,292.5638 634.6333,343.5805" fill="none" id="notebook-to-wiki" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="634.6333,353.5805,641.3,338.5805,634.6333,345.2471,627.9667,338.5805,634.6333,353.5805" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="114.2578" x="588.1333" y="242.4944">load pages</text><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="263.6922" x="588.1333" y="268.012">(query_terms, max_docs)</text></g><!--link wiki to notebook--><g class="link" data-entity-1="ent0006" data-entity-2="ent0004" data-link-type="dependency" data-source-line="19" id="lnk12"><path d="M702.0333,353.2638 C702.0333,301.2971 702.0333,216.5471 702.0333,216.5471 C702.0333,216.5471 536.5,216.5471 414.1167,216.5471" fill="none" id="wiki-to-notebook" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="404.1167,216.5471,419.1167,223.2138,412.45,216.5471,419.1167,209.8805,404.1167,216.5471" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="271.5527" x="324.7667" y="185.8277">page extracts + metadata</text><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="296.3721" x="324.7667" y="211.3453">(title, summary, source URL)</text></g><!--link notebook to emb--><g class="link" data-entity-1="ent0004" data-entity-2="ent0008" data-link-type="dependency" data-source-line="20" id="lnk13"><path d="M404.0167,211.5471 C568.4167,211.5471 849.9167,211.5471 849.9167,211.5471 C849.9167,211.5471 849.9167,284.3305 849.9167,338.0138" fill="none" id="notebook-to-emb" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="849.9167,348.0138,856.5833,333.0138,849.9167,339.6805,843.25,333.0138,849.9167,348.0138" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="235.9212" x="458.5333" y="234.1611">embed docs + queries</text></g><!--link emb to notebook--><g class="link" data-entity-1="ent0008" data-entity-2="ent0004" data-link-type="dependency" data-source-line="21" id="lnk14"><path d="M838.5,347.9305 C838.5,295.2138 838.5,214.8805 838.5,214.8805 C838.5,214.8805 575.75,214.8805 414.3333,214.8805" fill="none" id="emb-to-notebook" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="404.3333,214.8805,419.3333,221.5471,412.6667,214.8805,419.3333,208.2138,404.3333,214.8805" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="75.7064" x="689.6167" y="209.1611">vectors</text></g><!--link notebook to vs--><g class="link" data-entity-1="ent0004" data-entity-2="ent0005" data-link-type="dependency" data-source-line="22" id="lnk15"><path d="M286.6667,238.2471 C286.6667,267.0971 286.6667,285.0638 286.6667,317.2638" fill="none" id="notebook-vs" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="286.6667,228.2471,280,243.2471,286.6667,236.5805,293.3333,243.2471,286.6667,228.2471" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="286.6667,327.2638,293.3333,312.2638,286.6667,318.9305,280,312.2638,286.6667,327.2638" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="274.0072" x="11.6667" y="300.3611">upsert + similarity_search</text></g><!--link notebook to llm--><g class="link" data-entity-1="ent0004" data-entity-2="ent0009" data-link-type="dependency" data-source-line="23" id="lnk16"><path d="M404.25,209.8805 C659.8167,209.8805 1249.2667,209.8805 1249.2667,209.8805 C1249.2667,209.8805 1249.2667,283.9138 1249.2667,338.0805" fill="none" id="notebook-to-llm" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="1249.2667,348.0805,1255.9333,333.0805,1249.2667,339.7471,1242.6,333.0805,1249.2667,348.0805" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="389.2912" x="897.5167" y="232.4944">prompt(question + retrieved chunks)</text><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="192.0589" x="897.5167" y="258.012">+ grounding rules</text></g><!--link llm to notebook--><g class="link" data-entity-1="ent0009" data-entity-2="ent0004" data-link-type="dependency" data-source-line="24" id="lnk17"><path d="M1344.0667,348.2138 C1344.0667,293.0971 1344.0667,206.5471 1344.0667,206.5471 C1344.0667,206.5471 688.5833,206.5471 414.3333,206.5471" fill="none" id="llm-to-notebook" style="stroke:#334155;stroke-width:1.6667;"/><polygon fill="#334155" points="404.3333,206.5471,419.3333,213.2138,412.6667,206.5471,419.3333,199.8805,404.3333,206.5471" style="stroke:#334155;stroke-width:1.6667;"/><text fill="#334155" font-family="sans-serif" font-size="21.6667" lengthAdjust="spacing" textLength="122.5098" x="946.7" y="200.8277">answer text</text></g><?plantuml-src NLBBRXf14BpFLtGuBS8cId93aQKLUOY8n2Z8zWK93RFjtH7psCnZxLKKoH-HByoNf6VMWE22bkcghkhgVYEDKB52s0ghjJNJDch5WWmAeQpH12dWGUvbYvNaKDoZ2_WCvG9Mj_Cn_7lv2-lU1zGmjuOgWJ4kWdKmklFeHi0zHFfWp5ZI62sju0egxA3GNDoknncXykjl1k1G16vgqXvzYsqVqC4F6t1dxNvZYbKV6clWm_JT-u5eNcl4h7ZWE-w9U8_PWASV9DAySLPpU0jVoiLwFTwOGQsIVfzxT9xzOKme6oiOdIOjLujSVgANG_Ku_40S_btO_gntM5NIr7vZ1dovEBrb8khTEMUv_BunyuQ70m6AhwYbaQ_nA9qifXpX-lhcE3NCm4K30fNoD1_tU_WLqGTf3JjY4Y7DG61bUGKjhv6i5OHq_PO2rluAD7_ULbRuCSlG2v540Lgjeyrwc836m5FSr2NVoHNug3LtFNtOw0J2tS_b-Dm2pKoTC0K1IOdQ90SIFKkb2yKkhz2VMdnCWCvJAROKGo2wbregxcJejnwv4ysv88MMhDFksr0SOY6Qmq2g7TaGJJHxJmSnWThPQDA2A515bXBvmX8t_edopoT-9fJNSgnFGCZ0avPd6GTEraq0-tWwrZA6PWRrS5Jbfpdjtff7MSzWYgRR68QcocZs7m00?></g></svg>