<?plantuml 1.2026.1?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1696.875px" preserveAspectRatio="none" style="width:2821px;height:1696px;background:#FFFFFF;" version="1.1" viewBox="0 0 2821 1696" width="2821.875px" zoomAndPan="magnify"><title>ANC Target App &#8212; C3 Component View (Backend API)</title><defs/><g><g class="title" data-source-line="2"><text fill="#000000" font-family="Helvetica" font-size="21.875" font-weight="bold" lengthAdjust="spacing" textLength="568.8034" x="1115.8369" y="32.4692">ANC Target App &#8212; C3 Component View (Backend API)</text></g><!--cluster backend--><g class="cluster" data-qualified-name="backend" data-source-line="9" id="ent0003"><rect fill="#F8FAFC" height="1107.0313" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:1.5625;" width="1281.25" x="836.1078" y="255.4688"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" font-weight="bold" lengthAdjust="spacing" textLength="312.5885" x="840.7953" y="273.0316">Backend API (Flask/FastAPI target)</text></g><!--cluster route_path--><g class="cluster" data-qualified-name="backend.route_path" data-source-line="13" id="ent0006"><rect fill="#F8FAFC" height="872.6563" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:1.5625;" width="421.875" x="873.6078" y="452.3438"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" font-weight="bold" lengthAdjust="spacing" textLength="97.9065" x="878.2953" y="469.9066">Route path</text></g><!--cluster vision_path--><g class="cluster" data-qualified-name="backend.vision_path" data-source-line="21" id="ent0012"><rect fill="#F8FAFC" height="142.1875" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:1.5625;" width="356.25" x="1531.4203" y="805.4688"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" font-weight="bold" lengthAdjust="spacing" textLength="101.0468" x="1536.1078" y="823.0316">Vision path</text></g><!--cluster shared--><g class="cluster" data-qualified-name="backend.shared" data-source-line="25" id="ent0014"><rect fill="#F8FAFC" height="305.4688" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:1.5625;" width="684.375" x="1332.9828" y="1019.5313"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" font-weight="bold" lengthAdjust="spacing" textLength="143.8477" x="1337.6703" y="1037.0941">Shared services</text></g><!--entity guide_api--><g class="entity" data-qualified-name="backend.guide_api" data-source-line="10" id="ent0004"><rect fill="#BFDBFE" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="168.8263" x="1609.4984" y="303.9063"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="131.3141" x="1625.1234" y="333.9691">GuideController</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.0498" x="1625.1234" y="352.7191">POST</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1676.1732" y="352.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="81.3171" x="1681.3825" y="352.7191">/api/guide</text></g><!--entity vision_api--><g class="entity" data-qualified-name="backend.vision_api" data-source-line="11" id="ent0005"><rect fill="#BBF7D0" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="170.8862" x="1903.7796" y="657.0313"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="132.3486" x="1919.4046" y="687.0941">VisionController</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.0498" x="1919.4046" y="705.8441">POST</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1970.4544" y="705.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="83.3771" x="1975.6638" y="705.8441">/api/vision</text></g><!--entity orchestrator--><g class="entity" data-qualified-name="backend.route_path.orchestrator" data-source-line="14" id="ent0007"><rect fill="#DBEAFE" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="245.932" x="1024.0765" y="500.7813"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0336" x="1039.7015" y="530.8441">Route</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1089.7351" y="530.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0336" x="1094.9444" y="530.8441">Guide</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1144.978" y="530.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="104.1962" x="1150.1873" y="530.8441">Orchestrator</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="95.8923" x="1039.7015" y="549.5941">StateGraph</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1135.5938" y="549.5941">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="31.2836" x="1140.8032" y="549.5941">app</text></g><!--entity routing--><g class="entity" data-qualified-name="backend.route_path.routing" data-source-line="15" id="ent0008"><rect fill="#DBEAFE" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="289.6851" x="980.3265" y="657.0313"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="64.6271" x="995.9515" y="687.0941">Routing</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1060.5786" y="687.0941">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1065.7879" y="687.0941">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1076.7376" y="687.0941">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="97.9523" x="1081.947" y="687.0941">Clarification</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="140.7166" x="995.9515" y="705.8441">answerable_now</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1136.6681" y="705.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1141.8774" y="705.8441">/</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1147.0868" y="705.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="37.5" x="1152.2961" y="705.8441">retry</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1189.7961" y="705.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1195.0055" y="705.8441">/</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1200.2148" y="705.8441">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="48.9624" x="1205.4242" y="705.8441">clarify</text></g><!--entity retrieve--><g class="entity" data-qualified-name="backend.route_path.retrieve" data-source-line="16" id="ent0009"><rect fill="#C4B5FD" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="245.3918" x="899.3421" y="853.9063"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="76.062" x="914.9671" y="883.9691">Retriever</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="991.0291" y="883.9691">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="58.374" x="996.2385" y="883.9691">Fanout</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.059" x="914.9671" y="902.7191">vector</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="966.0261" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="971.2354" y="902.7191">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="982.1851" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="69.8181" x="987.3945" y="902.7191">keyword</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1057.2126" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="66.687" x="1062.422" y="902.7191">retrieval</text></g><!--entity rerank--><g class="entity" data-qualified-name="backend.route_path.rerank" data-source-line="17" id="ent0010"><rect fill="#C4B5FD" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="257.9254" x="927.4515" y="1067.9688"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="77.1149" x="943.0765" y="1098.0316">Reranker</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1020.1914" y="1098.0316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1025.4007" y="1098.0316">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1036.3504" y="1098.0316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="64.6179" x="1041.5598" y="1098.0316">Context</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1106.1777" y="1098.0316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="58.3649" x="1111.387" y="1098.0316">Builder</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="39.5782" x="943.0765" y="1116.7816">strict</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="982.6547" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="41.684" x="987.8641" y="1116.7816">top-k</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1029.5481" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="66.7236" x="1034.7574" y="1116.7816">budgets</text></g><!--entity generate--><g class="entity" data-qualified-name="backend.route_path.generate" data-source-line="18" id="ent0011"><rect fill="#FEF3C7" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="370.9564" x="899.0609" y="1231.25"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="62.5214" x="914.6859" y="1261.3129">Answer</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="977.2072" y="1261.3129">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="84.4208" x="982.4166" y="1261.3129">Generator</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="67.7399" x="914.6859" y="1280.0629">provider</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="982.4257" y="1280.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="72.9675" x="987.6351" y="1280.0629">adapters</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1060.6026" y="1280.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="188.5803" x="1065.812" y="1280.0629">(DBRX/Vertex/Ollama)</text></g><!--entity vadapter--><g class="entity" data-qualified-name="backend.vision_path.vadapter" data-source-line="22" id="ent0013"><rect fill="#86EFAC" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="305.8807" x="1556.6078" y="853.9063"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.0681" x="1572.2328" y="883.9691">Vision</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1623.3009" y="883.9691">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="65.6708" x="1628.5102" y="883.9691">Adapter</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.0681" x="1572.2328" y="902.7191">model</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1623.3009" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="28.1342" x="1628.5102" y="902.7191">call</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1656.6444" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1661.8537" y="902.7191">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1672.8034" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="52.1301" x="1678.0128" y="902.7191">output</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1730.1429" y="902.7191">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="111.5112" x="1735.3523" y="902.7191">normalization</text></g><!--entity qgate--><g class="entity" data-qualified-name="backend.shared.qgate" data-source-line="26" id="ent0015"><rect fill="#FECACA" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="335.0586" x="1657.639" y="1067.9688"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="58.3557" x="1673.264" y="1098.0316">Quality</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1731.6197" y="1098.0316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="40.6494" x="1736.8291" y="1098.0316">Gate</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="59.4086" x="1673.264" y="1116.7816">citation</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1732.6726" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="77.1332" x="1737.8819" y="1116.7816">coverage</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1815.0151" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1820.2244" y="1116.7816">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1831.1742" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="77.124" x="1836.3835" y="1116.7816">safe-stop</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1913.5075" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="58.3557" x="1918.7169" y="1116.7816">checks</text></g><!--entity cache--><g class="entity" data-qualified-name="backend.shared.cache" data-source-line="27" id="ent0016"><rect fill="#E9D5FF" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="251.6815" x="1358.7015" y="1067.9688"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="54.1992" x="1374.3265" y="1098.0316">Cache</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1428.5257" y="1098.0316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="74.0021" x="1433.7351" y="1098.0316">Manager</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="66.687" x="1374.3265" y="1116.7816">retrieval</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1441.0135" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1446.2229" y="1116.7816">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1457.1726" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="77.1332" x="1462.3819" y="1116.7816">response</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1539.5151" y="1116.7816">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0336" x="1544.7244" y="1116.7816">cache</text></g><!--entity formatter--><g class="entity" data-qualified-name="backend.shared.formatter" data-source-line="28" id="ent0017"><rect fill="#DCFCE7" height="68.75" rx="9.375" ry="9.375" style="stroke:#334155;stroke-width:0.7813;" width="305.8167" x="1686.3265" y="1231.25"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="70.8618" x="1701.9515" y="1261.3129">Contract</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1772.8133" y="1261.3129">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="81.2622" x="1778.0227" y="1261.3129">Formatter</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0061" x="1701.9515" y="1280.0629">JSON</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1751.9576" y="1280.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="65.6525" x="1757.167" y="1280.0629">schema</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1822.8194" y="1280.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="1828.0288" y="1280.0629">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="1838.9785" y="1280.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="132.3303" x="1844.1878" y="1280.0629">markdown/story</text></g><!--entity user--><g class="entity" data-qualified-name="user" data-source-line="7" id="ent0002"><ellipse cx="2064.2306" cy="76.5625" fill="#E0F2FE" rx="12.5" ry="12.5" style="stroke:#0369A1;stroke-width:0.7813;"/><path d="M2064.2306,89.0625 L2064.2306,131.25 M2043.9181,101.5625 L2084.5431,101.5625 M2064.2306,131.25 L2043.9181,154.6875 M2064.2306,131.25 L2084.5431,154.6875" fill="none" style="stroke:#0369A1;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="40.6403" x="2007.4359" y="171.4691">Field</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2048.0761" y="171.4691">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="67.7399" x="2053.2855" y="171.4691">explorer</text></g><!--entity vecstore--><g class="entity" data-qualified-name="vecstore" data-source-line="32" id="ent0018"><path d="M223.0296,1085.9375 C223.0296,1070.3125 347.0439,1070.3125 347.0439,1070.3125 C347.0439,1070.3125 471.0582,1070.3125 471.0582,1085.9375 L471.0582,1118.75 C471.0582,1134.375 347.0439,1134.375 347.0439,1134.375 C347.0439,1134.375 223.0296,1134.375 223.0296,1118.75 L223.0296,1085.9375" fill="#DDD6FE" style="stroke:#3730A3;stroke-width:0.7813;"/><path d="M223.0296,1085.9375 C223.0296,1101.5625 347.0439,1101.5625 347.0439,1101.5625 C347.0439,1101.5625 471.0582,1101.5625 471.0582,1085.9375" fill="none" style="stroke:#3730A3;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="54.1901" x="238.6546" y="1122.2504">Vector</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="292.8447" y="1122.2504">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="44.8242" x="298.054" y="1122.2504">index</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="342.8783" y="1122.2504">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="348.0876" y="1122.2504">/</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="353.297" y="1122.2504">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0336" x="358.5063" y="1122.2504">chunk</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="408.5399" y="1122.2504">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="41.684" x="413.7492" y="1122.2504">store</text></g><!--entity cachedb--><g class="entity" data-qualified-name="cachedb" data-source-line="33" id="ent0019"><path d="M663.1703,1239.8438 C663.1703,1224.2188 729.8496,1224.2188 729.8496,1224.2188 C729.8496,1224.2188 796.529,1224.2188 796.529,1239.8438 L796.529,1291.4063 C796.529,1307.0313 729.8496,1307.0313 729.8496,1307.0313 C729.8496,1307.0313 663.1703,1307.0313 663.1703,1291.4063 L663.1703,1239.8438" fill="#E9D5FF" style="stroke:#3730A3;stroke-width:0.7813;"/><path d="M663.1703,1239.8438 C663.1703,1255.4688 729.8496,1255.4688 729.8496,1255.4688 C729.8496,1255.4688 796.529,1255.4688 796.529,1239.8438" fill="none" style="stroke:#3730A3;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="54.1992" x="678.7953" y="1276.1566">Cache</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="732.9945" y="1276.1566">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="41.684" x="738.2038" y="1276.1566">store</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="102.1088" x="678.7953" y="1294.9066">(sqlite/redis)</text></g><!--entity model--><g class="entity" data-qualified-name="model" data-source-line="34" id="ent0020"><path d="M469.9336,1456.9884 C474.4123,1448.3466 483.4454,1447.3247 489.0139,1455.7716 C492.2772,1446.0849 499.2263,1444.5786 506.1545,1452.1269 C511.9104,1443.3091 520.0554,1444.0407 525.2586,1452.7301 C531.0527,1443.797 539.9036,1441.5405 546.7134,1451.5817 C550.606,1442.4554 557.6948,1442.4047 564.1192,1448.7296 C568.7817,1440.4661 577.8103,1439.7335 583.1295,1447.973 C590.498,1439.3363 597.503,1440.1482 601.7767,1450.9429 C607.984,1442.5015 616.9714,1441.2735 622.6186,1451.566 C628.463,1442.8807 633.7651,1444.0044 639.2211,1451.9537 C645.3416,1442.3462 655.4686,1442.4932 660.3908,1453.2023 C667.8012,1444.7727 672.9025,1447.8802 677.617,1456.0072 C684.1559,1446.7718 691.0159,1445.9851 698.2026,1455.2878 C708.5247,1459.4145 711.9661,1468.585 701.5799,1476.0761 C712.667,1484.9971 711.2912,1493.5064 698.0055,1498.5512 C691.8069,1508.4504 685.1314,1508.214 678.4216,1499.0772 C672.461,1508.9503 663.6365,1509.3961 657.5109,1499.2496 C652.363,1507.1816 647.0737,1506.7555 641.5164,1499.6861 C637.0233,1508.7274 626.9958,1509.7218 620.6628,1501.9712 C614.1083,1509.993 608.2646,1512.3748 601.4249,1502.2741 C596.2125,1510.0951 588.2661,1512.1177 582.6177,1502.7512 C576.9862,1511.7949 570.5429,1509.1465 565.5949,1502.0312 C559.0283,1510.9795 551.2758,1513.3209 544.2378,1502.5416 C536.244,1511.6908 530.2582,1511.1109 525.0042,1499.9473 C519.3063,1507.1713 512.044,1507.1637 507.5487,1498.6162 C502.5332,1508.297 495.3722,1506.5044 489.7345,1499.2715 C481.2297,1509.3586 472.4881,1507.6353 467.4599,1495.7475 C455.3996,1492.4706 453.6467,1485.8481 461.113,1476.2234 C453.5305,1466.3392 458.5449,1458.173 469.9336,1456.9884" fill="#FEF3C7" style="stroke:#065F46;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="51.0681" x="478.2328" y="1480.0629">Model</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="529.3009" y="1480.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="63.5742" x="534.5102" y="1480.0629">Serving</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="598.0844" y="1480.0629">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="81.3171" x="603.2938" y="1480.0629">endpoints</text></g><!--entity wiki--><g class="entity" data-qualified-name="wiki" data-source-line="35" id="ent0021"><path d="M22.3776,1083.1 C26.7568,1075.2489 34.9378,1074.0873 39.7958,1082.59 C43.5856,1072.1119 50.138,1071.0851 57.9254,1078.5511 C61.7633,1070.8007 68.631,1070.6517 73.6414,1077.2686 C77.5903,1069.0987 84.9677,1066.8559 91.5759,1074.1929 C98.8024,1065.945 105.9909,1066.1292 111.3648,1076.1947 C116.9433,1069.9915 123.4424,1071.1914 127.2792,1078.2801 C134.643,1070.8926 139.698,1073.4517 144.181,1081.4457 C151.1454,1074.5261 157.9038,1075.7777 162.3758,1084.3694 C175.5948,1082.385 181.9042,1090.3016 177.2599,1102.7682 C180.8417,1116.4604 175.1549,1123.4052 161.2468,1123.7484 C157.8435,1132.2278 149.8434,1133.8939 144.265,1126.0049 C140.9334,1135.6168 131.687,1135.4275 126.026,1128.5873 C121.2269,1136.446 115.0834,1135.3736 110.7214,1128.1439 C105.8283,1139.7261 98.1819,1138.8277 90.9603,1130.449 C85.1921,1136.5715 79.1649,1135.6162 75.0015,1128.5125 C69.6513,1136.6402 63.2399,1135.5218 58.8085,1127.5863 C53.7558,1137.3209 44.4734,1136.1065 39.741,1127.2576 C32.349,1134.8106 26.838,1133.6639 22.1878,1124.3964 C11.4981,1118.4089 9.8282,1111.2887 19.2342,1102.5805 C9.375,1095.5964 10.8794,1086.6379 22.3776,1083.1" fill="#ECFDF5" style="stroke:#065F46;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="81.2805" x="32.4359" y="1107.4066">Wikipedia</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="113.7164" y="1107.4066">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="30.2216" x="118.9257" y="1107.4066">API</text></g><!--entity artifacts--><g class="entity" data-qualified-name="artifacts" data-source-line="36" id="ent0022"><path d="M2563.9203,1249.2188 C2563.9203,1233.5938 2679.855,1233.5938 2679.855,1233.5938 C2679.855,1233.5938 2795.7898,1233.5938 2795.7898,1249.2188 L2795.7898,1282.0313 C2795.7898,1297.6563 2679.855,1297.6563 2679.855,1297.6563 C2679.855,1297.6563 2563.9203,1297.6563 2563.9203,1282.0313 L2563.9203,1249.2188" fill="#FEF9C3" style="stroke:#3730A3;stroke-width:0.7813;"/><path d="M2563.9203,1249.2188 C2563.9203,1264.8438 2679.855,1264.8438 2679.855,1264.8438 C2679.855,1264.8438 2795.7898,1264.8438 2795.7898,1249.2188" fill="none" style="stroke:#3730A3;stroke-width:0.7813;"/><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="34.3964" x="2579.5453" y="1285.5316">Run</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2613.9416" y="1285.5316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="65.6433" x="2619.151" y="1285.5316">artifacts</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2684.7943" y="1285.5316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="10.9497" x="2690.0036" y="1285.5316">+</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2700.9533" y="1285.5316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="34.3964" x="2706.1627" y="1285.5316">eval</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2740.559" y="1285.5316">&#160;</text><text fill="#0F172A" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="34.3964" x="2745.7684" y="1285.5316">logs</text></g><g class="entity" data-qualified-name="GMN46" data-source-line="66" id="ent0047"><path d="M2142.4984,1239.0625 L2142.4984,1292.1875 A9.375,9.375 0 0 0 2151.8734,1301.5625 L2507.8304,1301.5625 A9.375,9.375 0 0 0 2517.2054,1292.1875 L2517.2054,1245.3125 L2501.5804,1229.6875 L2225.639,1229.6875 L1930.9671,1137.4844 L2213.139,1229.6875 L2151.8734,1229.6875 A9.375,9.375 0 0 0 2142.4984,1239.0625" fill="#FFFBEB" style="stroke:#B45309;stroke-width:0.7813;"/><path d="M2501.5804,1229.6875 L2501.5804,1240.625 A4.6875,4.6875 0 0 0 2506.2679,1245.3125 L2517.2054,1245.3125 L2501.5804,1229.6875" fill="#FFFBEB" style="stroke:#B45309;stroke-width:0.7813;"/><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="52.121" x="2151.8734" y="1251.9379">Single</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2203.9943" y="1251.9379">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="54.1992" x="2209.2037" y="1251.9379">quality</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2263.4029" y="1251.9379">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="36.4929" x="2268.6123" y="1251.9379">gate</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2305.1052" y="1251.9379">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="50.0336" x="2310.3145" y="1251.9379">keeps</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2360.3481" y="1251.9379">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="42.7368" x="2365.5575" y="1251.9379">route</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2408.2943" y="1251.9379">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="31.2836" x="2413.5036" y="1251.9379">and</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="47.937" x="2151.8734" y="1270.6879">vision</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2199.8104" y="1270.6879">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="97.998" x="2205.0197" y="1270.6879">outputs\non</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2303.0178" y="1270.6879">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="31.2836" x="2308.2271" y="1270.6879">one</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2339.5107" y="1270.6879">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="47.937" x="2344.7201" y="1270.6879">policy</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2392.6571" y="1270.6879">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="31.2836" x="2397.8664" y="1270.6879">and</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="5.2094" x="2429.15" y="1270.6879">&#160;</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="59.4086" x="2434.3593" y="1270.6879">citation</text><text fill="#92400E" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="71.9055" x="2151.8734" y="1289.4379">contract.</text></g><!--link user to guide_api--><g class="link" data-entity-1="ent0002" data-entity-2="ent0004" data-link-type="dependency" data-source-line="38" id="lnk23"><path d="M2006.7796,154.5469 C1937.2953,195 1829.1462,257.9689 1759.615,298.4689" fill="none" id="user-to-guide_api" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1751.514,303.1875,1766.8112,301.5103,1758.2648,299.2553,1760.5197,290.709,1751.514,303.1875" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="110.4858" x="1913.8109" y="224.5941">route request</text></g><!--link user to vision_api--><g class="link" data-entity-1="ent0002" data-entity-2="ent0005" data-link-type="dependency" data-source-line="39" id="lnk24"><path d="M2056.9671,176.1406 C2041.5609,292.9531 2007.2408,553.315 1994.8189,647.4244" fill="none" id="user-to-vision_api" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1993.5921,656.7187,2001.6286,643.595,1994.6145,648.9734,1989.2361,641.9593,1993.5921,656.7187" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="118.8171" x="2028.2953" y="421.4691">image request</text></g><!--link guide_api to orchestrator--><g class="link" data-entity-1="ent0004" data-entity-2="ent0007" data-link-type="dependency" data-source-line="41" id="lnk25"><path d="M1608.9828,360.2031 C1487.014,389.4375 1276.7328,439.8438 1276.7328,439.8438 C1276.7328,439.8438 1238.0021,467.8354 1200.7208,494.7886" fill="none" id="guide_api-to-orchestrator" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1193.1234,500.2812,1208.1813,497.1072,1199.4546,495.704,1200.8577,486.9773,1193.1234,500.2812" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="162.5977" x="1413.2328" y="421.4691">normalized payload</text></g><!--link orchestrator to routing--><g class="link" data-entity-1="ent0007" data-entity-2="ent0008" data-link-type="dependency" data-source-line="42" id="lnk26"><path d="M1099.8734,570.2969 C1077.1859,586.4531 1054.8578,602.3438 1054.8578,602.3438 C1054.8578,602.3438 1054.8578,624.2188 1054.8578,624.2188 C1054.8578,624.2188 1065.0378,633.71 1082.3347,649.8662" fill="none" id="orchestrator-to-routing" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1089.1859,656.2656,1083.1754,642.0991,1083.4766,650.9328,1074.6429,651.234,1089.1859,656.2656" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="93.8049" x="1056.4203" y="618.3441">decide flow</text></g><!--link routing to cache--><g class="link" data-entity-1="ent0008" data-entity-2="ent0016" data-link-type="dependency" data-source-line="43" id="lnk27"><path d="M1169.139,726.5469 C1190.2796,742.7031 1211.1078,758.5938 1211.1078,758.5938 C1211.1078,758.5938 1337.6703,960.1563 1337.6703,960.1563 C1337.6703,960.1563 1399.5228,1019.3924 1442.9603,1060.9705" fill="none" id="routing-to-cache" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1449.7328,1067.4531,1443.8957,1053.2142,1444.089,1062.051,1435.2523,1062.2442,1449.7328,1067.4531" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="192.8375" x="1339.2328" y="893.3441">response cache lookup</text></g><!--link routing to retrieve--><g class="link" data-entity-1="ent0008" data-entity-2="ent0009" data-link-type="dependency" data-source-line="44" id="lnk28"><path d="M1107.4359,726.2813 C1088.5453,761.7656 1063.213,809.3478 1044.2911,844.9259" fill="none" id="routing-to-retrieve" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1039.889,853.2031,1052.0103,843.7221,1043.5575,846.3055,1040.9741,837.8526,1039.889,853.2031" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="108.3893" x="1090.4359" y="774.5941">retrieval path</text></g><!--link retrieve to vecstore--><g class="link" data-entity-1="ent0009" data-entity-2="ent0018" data-link-type="dependency" data-source-line="45" id="lnk29"><path d="M899.1859,906.2031 C717.9515,930.3438 400.1703,972.6563 400.1703,972.6563 C400.1703,972.6563 379.2132,1023.1833 363.4944,1061.1051" fill="none" id="retrieve-to-vecstore" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="359.9046,1069.7656,371.063,1059.1681,362.8961,1062.5486,359.5157,1054.3817,359.9046,1069.7656" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="103.1708" x="401.7328" y="988.6566">top-k search</text></g><!--link retrieve to wiki--><g class="link" data-entity-1="ent0009" data-entity-2="ent0021" data-link-type="dependency" data-source-line="46" id="lnk30"><path d="M898.6703,901.8906 C663.3578,924.8594 173.6078,972.6563 173.6078,972.6563 C173.6078,972.6563 140.8679,1023.2979 116.3523,1061.2354" fill="none" id="retrieve-to-wiki" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="111.264,1069.1094,124.1458,1060.6905,115.5042,1062.5477,113.6471,1053.9062,111.264,1069.1094" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="204.2908" x="175.1703" y="988.6566">live page fetch (optional)</text></g><!--link retrieve to cache--><g class="link" data-entity-1="ent0009" data-entity-2="ent0016" data-link-type="dependency" data-source-line="47" id="lnk31"><path d="M1043.7953,922.9688 C1063.9359,953.6406 1090.7953,994.5313 1090.7953,994.5313 C1090.7953,994.5313 1293.9203,1007.0313 1293.9203,1007.0313 C1293.9203,1007.0313 1353.1484,1036.1591 1407.8515,1063.0654" fill="none" id="retrieve-to-cache" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1416.264,1067.2031,1406.4038,1055.3882,1409.2536,1063.755,1400.8868,1066.6048,1416.264,1067.2031" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="209.4635" x="1092.3578" y="988.6566">retrieval cache read/write</text></g><!--link retrieve to rerank--><g class="link" data-entity-1="ent0009" data-entity-2="ent0010" data-link-type="dependency" data-source-line="48" id="lnk32"><path d="M990.0921,923.0469 C967.9203,946.0938 942.3578,972.6563 942.3578,972.6563 C942.3578,972.6563 942.3578,994.5313 942.3578,994.5313 C942.3578,994.5313 980.6069,1030.1728 1014.0913,1061.3603" fill="none" id="retrieve-to-rerank" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1020.9515,1067.75,1014.9209,1053.592,1015.2346,1062.4253,1006.4014,1062.739,1020.9515,1067.75" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="90.6921" x="943.9203" y="988.6566">candidates</text></g><!--link rerank to generate--><g class="link" data-entity-1="ent0010" data-entity-2="ent0011" data-link-type="dependency" data-source-line="49" id="lnk33"><path d="M1062.2484,1137.0938 C1067.0765,1164.5781 1072.2661,1194.2197 1077.0942,1221.6884" fill="none" id="rerank-to-generate" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1078.7171,1230.9219,1082.4383,1215.9897,1077.3647,1223.2273,1070.1271,1218.1537,1078.7171,1230.9219" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="144.9005" x="1072.889" y="1185.5316">grounded context</text></g><!--link generate to model--><g class="link" data-entity-1="ent0011" data-entity-2="ent0020" data-link-type="dependency" data-source-line="50" id="lnk34"><path d="M1003.139,1300.5469 C908.3109,1339.4375 761.4072,1399.6471 668.0634,1437.9127" fill="none" id="generate-to-model" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="659.389,1441.4688,674.7713,1441.9177,666.6177,1438.5054,670.0299,1430.3518,659.389,1441.4688" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="187.6007" x="789.4828" y="1403.5004">LLM / embedding calls</text></g><!--link generate to qgate--><g class="link" data-entity-1="ent0011" data-entity-2="ent0015" data-link-type="dependency" data-source-line="51" id="lnk35"><path d="M1220.0453,1230.5938 C1330.1703,1203.4063 1467.3578,1169.5313 1467.3578,1169.5313 C1467.3578,1169.5313 1555.074,1153.4408 1648.0427,1136.3939" fill="none" id="generate-to-qgate" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1657.264,1134.7031,1642.3049,1131.0919,1649.5796,1136.1121,1644.5593,1143.3869,1657.264,1134.7031" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="143.28" x="1468.9203" y="1185.5316">claims + citations</text></g><!--link qgate to formatter--><g class="link" data-entity-1="ent0015" data-entity-2="ent0017" data-link-type="dependency" data-source-line="52" id="lnk36"><path d="M1828.0765,1137.0938 C1830.4984,1164.5781 1833.0812,1194.1144 1835.5031,1221.5831" fill="none" id="qgate-to-formatter" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1836.3265,1230.9219,1841.3173,1216.3648,1835.6403,1223.1396,1828.8656,1217.4626,1836.3265,1230.9219" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="143.8202" x="1834.1859" y="1185.5316">pass or safe-stop</text></g><!--link qgate to formatter--><g class="link" data-entity-1="ent0015" data-entity-2="ent0017" data-link-type="dependency" data-source-line="58" id="lnk41"><path d="M1722.0296,1137.4844 C1672.4359,1153.6406 1623.6078,1169.5313 1623.6078,1169.5313 C1623.6078,1169.5313 1623.6078,1191.4063 1623.6078,1191.4063 C1623.6078,1191.4063 1674.2389,1208.4761 1730.7389,1227.5074" fill="none" id="qgate-to-formatter-1" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1739.6234,1230.5,1728.2917,1220.088,1732.2196,1228.0061,1724.3015,1231.9341,1739.6234,1230.5" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="194.9066" x="1625.1703" y="1185.5316">policy-checked payload</text></g><!--link formatter to guide_api--><g class="link" data-entity-1="ent0017" data-entity-2="ent0004" data-link-type="dependency" data-source-line="53" id="lnk37"><path d="M1909.2484,1230.5 C1948.9515,1211.4688 1990.7953,1191.4063 1990.7953,1191.4063 C1990.7953,1191.4063 2015.7953,1136.7188 2015.7953,1136.7188 C2015.7953,1136.7188 2015.7953,1007.0313 2015.7953,1007.0313 C2015.7953,1007.0313 1886.1078,792.9688 1886.1078,792.9688 C1886.1078,792.9688 1709.5453,780.4688 1709.5453,780.4688 C1709.5453,780.4688 1699.0486,484.8066 1695.4236,382.3379" fill="none" id="formatter-to-guide_api" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1695.0921,372.9688,1689.3432,387.2434,1695.3683,380.7764,1701.8354,386.8015,1695.0921,372.9688" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="108.9294" x="1711.1078" y="774.5941">guide + trace</text></g><!--link vision_api to vadapter--><g class="link" data-entity-1="ent0005" data-entity-2="ent0013" data-link-type="dependency" data-source-line="55" id="lnk38"><path d="M1921.264,726.5469 C1888.5921,742.7031 1856.4203,758.5938 1856.4203,758.5938 C1856.4203,758.5938 1797.9543,809.6035 1754.4387,847.5566" fill="none" id="vision_api-to-vadapter" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1747.3734,853.7188,1762.0794,849.1857,1753.2611,848.5836,1753.8632,839.7653,1747.3734,853.7188" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="118.3044" x="1857.9828" y="774.5941">images + note</text></g><!--link vadapter to model--><g class="link" data-entity-1="ent0013" data-entity-2="ent0020" data-link-type="dependency" data-source-line="56" id="lnk39"><path d="M1630.6078,923.3594 C1587.9515,941.4688 1543.9203,960.1563 1543.9203,960.1563 C1543.9203,960.1563 875.1703,972.6563 875.1703,972.6563 C875.1703,972.6563 606.4203,1169.5313 606.4203,1169.5313 C606.4203,1169.5313 591.2362,1354.1254 584.8144,1432.141" fill="none" id="vadapter-to-model" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="584.0453,1441.4844,591.4278,1427.982,584.6862,1433.6982,578.97,1426.9565,584.0453,1441.4844" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="130.2795" x="607.9828" y="1185.5316">vision inference</text></g><!--link vadapter to qgate--><g class="link" data-entity-1="ent0013" data-entity-2="ent0015" data-link-type="dependency" data-source-line="57" id="lnk40"><path d="M1629.4046,923.2813 C1574.3265,946.2656 1511.1078,972.6563 1511.1078,972.6563 C1511.1078,972.6563 1511.1078,994.5313 1511.1078,994.5313 C1511.1078,994.5313 1634.5453,1007.0313 1634.5453,1007.0313 C1634.5453,1007.0313 1693.7734,1036.1591 1748.4765,1063.0654" fill="none" id="vadapter-to-qgate" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1756.889,1067.2031,1747.0288,1055.3882,1749.8786,1063.755,1741.5118,1066.6048,1756.889,1067.2031" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="201.6998" x="1512.6703" y="988.6566">hypothesis + confidence</text></g><!--link formatter to vision_api--><g class="link" data-entity-1="ent0017" data-entity-2="ent0005" data-link-type="dependency" data-source-line="59" id="lnk42"><path d="M1938.1078,1230.5 C1994.2015,1211.4688 2053.2953,1191.4063 2053.2953,1191.4063 C2053.2953,1191.4063 2053.2953,1007.0313 2053.2953,1007.0313 C2053.2953,1007.0313 2014.2771,815.8111 1997.8396,735.1705" fill="none" id="formatter-to-vision_api" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="1995.9671,725.9844,1992.6518,741.0118,1997.5275,733.6395,2004.8999,738.5152,1995.9671,725.9844" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="119.8425" x="2052.1859" y="988.6566">vision contract</text></g><!--link orchestrator to artifacts--><g class="link" data-entity-1="ent0007" data-entity-2="ent0022" data-link-type="dependency" data-source-line="61" id="lnk43"><path d="M1270.7171,552.0781 C1531.889,584.5156 2115.7953,657.0313 2115.7953,657.0313 C2115.7953,657.0313 2378.2953,689.8438 2378.2953,689.8438 C2378.2953,689.8438 2378.2953,689.8438 2378.2953,1103.9063 C2378.2953,1103.9063 2525.7968,1182.2432 2613.4374,1228.7901" fill="none" id="orchestrator-to-artifacts" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="2621.7171,1233.1875,2612.2292,1221.0716,2614.8174,1229.523,2606.366,1232.1111,2621.7171,1233.1875" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="213.1531" x="2379.8578" y="893.3441">node timings + snapshots</text></g><!--link qgate to artifacts--><g class="link" data-entity-1="ent0015" data-entity-2="ent0022" data-link-type="dependency" data-source-line="62" id="lnk44"><path d="M1969.6859,1137.4844 C2075.8734,1162.1563 2201.7328,1191.4063 2201.7328,1191.4063 C2201.7328,1191.4063 2540.7953,1224.2188 2540.7953,1224.2188 C2540.7953,1224.2188 2544.3597,1225.2505 2561.9534,1230.2817" fill="none" id="qgate-to-artifacts" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="2570.9671,1232.8594,2559.165,1222.9838,2563.4557,1230.7114,2555.7282,1235.0021,2570.9671,1232.8594" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="137.5763" x="2203.2953" y="1185.5316">quality decisions</text></g><!--link cache to cachedb--><g class="link" data-entity-1="ent0016" data-entity-2="ent0019" data-link-type="dependency" data-source-line="63" id="lnk45"><path d="M1357.9203,1125.7031 C1322.7171,1131.7656 1293.9203,1136.7188 1293.9203,1136.7188 C1293.9203,1136.7188 756.4203,1169.5313 756.4203,1169.5313 C756.4203,1169.5313 750.892,1189.1772 743.6577,1214.9428" fill="none" id="cache-to-cachedb" style="stroke:#334155;stroke-width:1.875;"/><polygon fill="#334155" points="741.1234,1223.9688,750.9421,1212.1193,743.2353,1216.4471,738.9075,1208.7403,741.1234,1223.9688" style="stroke:#334155;stroke-width:1.875;"/><text fill="#334155" font-family="Helvetica" font-size="18.75" lengthAdjust="spacing" textLength="116.7114" x="757.9828" y="1185.5316">persist entries</text></g><g class="legend" data-source-line="69"><rect fill="none" height="125" rx="9.375" ry="9.375" style="stroke:#000000;stroke-width:1.5625;" width="628.4775" x="1085.9999" y="1541.4459"/><text fill="#000000" font-family="Helvetica" font-size="21.875" lengthAdjust="spacing" textLength="612.8525" x="1093.8124" y="1566.1026">Route and vision paths stay separate until shared Quality Gate.</text><text fill="#000000" font-family="Helvetica" font-size="21.875" lengthAdjust="spacing" textLength="543.4998" x="1093.8124" y="1587.9776">Shared services centralize schema, policy, and caching.</text><text fill="#000000" font-family="Helvetica" font-size="21.875" lengthAdjust="spacing" textLength="239.5676" x="1093.8124" y="1609.8526">Blue: route request path.</text><text fill="#000000" font-family="Helvetica" font-size="21.875" lengthAdjust="spacing" textLength="262.6495" x="1093.8124" y="1631.7276">Green: vision request path.</text><text fill="#000000" font-family="Helvetica" font-size="21.875" lengthAdjust="spacing" textLength="471.7758" x="1093.8124" y="1653.6026">Red: policy gate. Purple: retrieval/cache storage.</text></g><?plantuml-src TLRBRkCs5DtpAswJJO9Cug2PHyUB0hOS1IqcapGPf5qO26ZnsYPCaGf9nN6B0ls8Vc6_f9UaP4lEP6L9F3oyZtCF_OFKXQe5mcDXojBeiwek5VFIAuJHrmo-SRj03wEgWl_--HUo2yXCMHcDsiE3n3KSZNcnGYrWTFlBCNC5fuqbVu4Vtv-VmreAlsJCcmgyWPdntfGWfCN2IwCPuuKt5WvoYKe0lbJAMBG7m1tK3YrZ5N7p1S91vn0uoXLtgq7EdG-lFaPu77VD6jXV320SmlM2mZcuggN0p6XlZL9ef_hsvluR37Wb1ukm5FV6fqVw1eVZV3BEB_iS3z9HoDydUOvhaIKzDZJZ_DFad17FDeyxKtkaLx-CQ1jU7yDh3BbtO8B6qE765ajqtd8grrJVU-xnol9g2Rog8f7f0E1mChuSnVXV4KgzW1F85BToBWiUkZ3LNBirMZvJ-AZD6WQqoTiD_HOHjzc66dQ_HKvR93wZXPnhWaxrCyRcdi0ADsjZHMGb25U9hza0XzdxyOTyyfhGSht2G12AZYyUnhLK8bIU4fM59qbLfokOrOBwxnhIiEajob7C4wvGOrF9offdggy5BdZbqJeucepl_XWyeAKJ1pTAyP8dQItIBeetlymliaz4_dUljKaWkzusIlX-SnlmA1qxrQKHg826Hr6-LBwgzg2DBRcIVyOk9SecJ3ZywUDbFifUnN2_v1O5qEmyom9JJLpwzYg4tseYznkuegIckf0-dWE5eIO6iXDmV8wdBWmlYQjO9RgdHLE4R9IDzZapJaYuvfe8AAjjnudCeYFRS4X94YPInISulFmy-P3dhwZ2f94_G1xAu6ELVhs_-GgEDfMS64jkLyAizO12j4caynPBCitox39rYMeakESpxaBbaoob5lWI9BwiIJ218SL4geqlH32PV2ITxtQcvEBgL1-v9weU3gYqqXtlqX6pRKA5ChM0W-lOsllG4XeVSgVAIDteDRMzLLIpuNUvaXNHyk1s4RQcBvr0xceDt7evf_8uAaIii3ABnBbR2RoViml6Wfd2wUdF7OyR9k-XYZ_LP1mxICV0XY3Be8GMmtRR0xBdESEjN4bh5TyemmNh8SAMraI68B08nZPNPitQhm6HD37SamjbPrPrrKDk3MIuSvOuVMox4lDf6pfi_C8Xfx3we51W0YZv7CoPKfwZBvPmPAem4rmTz-6x8DjpqnUBN0pMbdJHnpUsD2IO5f8QYOurts9NMciPme8o96KA6iFeUMox5e19BaFuykMQf8lb38K8vGY-uVhGDAR3OE6o329f1zonj1H0kt4PKjekN2ExeMUxrNtfn6VY30EAZ7Ka4olUkbIZdt2wDbIJxK8tbxIPvd6E5dMnXshJM6uguqbBCgPYz9m22E0tSZ5A5flJw5eTEVOJwWczYQ9eJ8Uzbkvkh8BKANqlIwfzYCTfNhcbyTtITk5FZTC6pRlOWYINhPJ8D2Xekdway-GGGJcEiL2pzZ-JcQTIi7iPxR6bZEUj4AlclmIGmDfaqZNYfZeyQsog4X4Tjqy9dx7mjobsYIbSX9TqChlRfmqZHhUAvniQfOf7nTNQIzNUDDsBvOpjNKbGXFoYJpHE_gu9x5sAZEf1APwniQfnpwJYqMVioYBgRSlwQtSeslR7sfp1RMqhXPrP7HHR7oTnniHJnkn_?></g></svg>