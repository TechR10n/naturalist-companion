@startuml 01_local_architecture
!include _common.puml
title Agentic Wikipedia â€” Local Architecture (No Cloud)

actor "User" as user

node "Local dev (macOS / Linux)" as local {
  rectangle "Notebook or CLI\n(local workflow)" as notebook
  rectangle "RAG pipeline\n(chunk + retrieve + prompt)" as rag
  rectangle "Embeddings\n(SentenceTransformers)" as emb
  database "Vector store\n(Chroma / FAISS)" as vs
  rectangle "LLM (optional)\n(Ollama / local model)" as llm
}

cloud "Wikipedia API" as wiki

user --> notebook : ask question / run cells
notebook --> wiki : load pages
wiki --> notebook : pages + metadata
notebook --> rag : chunk + attach metadata
rag --> emb : embed docs + query
emb --> vs : upsert / similarity_search
vs --> rag : top-k chunks
rag --> llm : prompt(question + chunks)\n(optional local LLM)
llm --> notebook : draft answer
notebook --> user : answer + citations

note right of rag
Local-only path for fast iteration.\nNo cloud credentials required.
end note

@enduml
